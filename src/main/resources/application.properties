# =============================================================================
# Prometheus MCP Server Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
quarkus.application.name=prometheus-mcp
quarkus.application.version=1.0.0

# -----------------------------------------------------------------------------
# HTTP Server Configuration
# -----------------------------------------------------------------------------
quarkus.http.port=9081
quarkus.http.host=0.0.0.0

# CORS Configuration (required for MCP SSE mode)
quarkus.http.cors.enabled=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=Content-Type,Accept

# -----------------------------------------------------------------------------
# Prometheus API Configuration
# -----------------------------------------------------------------------------
quarkus.rest-client.prometheus-api.url=${PROMETHEUS_URL:http://localhost:9090}
quarkus.rest-client.prometheus-api.scope=jakarta.inject.Singleton

# -----------------------------------------------------------------------------
# MCP Server Configuration
# -----------------------------------------------------------------------------
quarkus.mcp.server.traffic-logging.enabled=true
quarkus.mcp.server.traffic-logging.text-limit=1000

# -----------------------------------------------------------------------------
# Health Check
# -----------------------------------------------------------------------------
quarkus.smallrye-health.root-path=/q/health

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.level=INFO
quarkus.log.category."io.quarkiverse.mcp".level=INFO
quarkus.log.category."com.monitoring".level=DEBUG

# -----------------------------------------------------------------------------
# STDIO Transport Configuration (for Claude Code / Claude Desktop)
# -----------------------------------------------------------------------------
# STDIO transport is activated by adding the quarkus-mcp-server-stdio dependency.
# When running in stdio mode, the HTTP server must be disabled via cli.js:
#   -Dquarkus.http.host-enabled=false
# The stdio extension automatically redirects stdout to null and logs to stderr.

# -----------------------------------------------------------------------------
# Native Build Optimizations
# -----------------------------------------------------------------------------
quarkus.native.resources.includes=**/*.properties
